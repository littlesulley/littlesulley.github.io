<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://fonts.loli.net" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Roboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"sulley.cc","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="对集合\(\{1,2,\cdots,2000\}\)，求出其中有多少子集，使得子集中的元素和为5的倍数。本文对3Blue3Brown的解法上进行总结，形成较为数学化的语言。本题背后有较为深刻的数学思想，故记载于此。">
<meta property="og:type" content="article">
<meta property="og:title" content="用生成函数和复数巧解一道计数题">
<meta property="og:url" content="http://sulley.cc/2022/06/26/23/03/index.html">
<meta property="og:site_name" content="Sulley">
<meta property="og:description" content="对集合\(\{1,2,\cdots,2000\}\)，求出其中有多少子集，使得子集中的元素和为5的倍数。本文对3Blue3Brown的解法上进行总结，形成较为数学化的语言。本题背后有较为深刻的数学思想，故记载于此。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-06-26T15:03:13.000Z">
<meta property="article:modified_time" content="2022-06-29T16:52:54.174Z">
<meta property="article:author" content="Sulley">
<meta property="article:tag" content="数学">
<meta property="article:tag" content="随笔">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://sulley.cc/2022/06/26/23/03/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://sulley.cc/2022/06/26/23/03/","path":"2022/06/26/23/03/","title":"用生成函数和复数巧解一道计数题"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>用生成函数和复数巧解一道计数题 | Sulley</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Sulley</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Never Betray Yourself.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-photography"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Photography</a></li><li class="menu-item menu-item-resources"><a href="/resources/" rel="section"><i class="fa fa-book fa-fw"></i>Resources</a></li><li class="menu-item menu-item-comments"><a href="/comments/" rel="section"><i class="fa fa-comment fa-fw"></i>Comments</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8A%8A%E5%8E%9F%E9%97%AE%E9%A2%98%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">把原问题转化为生成函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%A4%8D%E6%95%B0%E9%97%AE%E9%A2%98"><span class="nav-number">2.</span> <span class="nav-text">转化为复数问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">3.</span> <span class="nav-text">总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Sulley</p>
  <div class="site-description" itemprop="description">Through a sea of petals will I see a road to the far far heaven.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/littlesulley" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;littlesulley" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/qinghong-han-4a6a7918a/" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;qinghong-han-4a6a7918a&#x2F;" rel="noopener me" target="_blank"><i class="fab fa-linkedin fa-fw"></i>Linkedin</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:qinghonghan97@gmail.com" title="E-Mail → mailto:qinghonghan97@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
        <div class="pjax">
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2022/10/20/23/59/" rel="bookmark">
        <time class="popular-posts-time">2022-10-20</time>
        <br>
      一道有趣的概率题
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2020/09/09/18/52/" rel="bookmark">
        <time class="popular-posts-time">2020-09-09</time>
        <br>
      无穷连根式求极限的充要条件
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/05/28/17/00/" rel="bookmark">
        <time class="popular-posts-time">2023-05-28</time>
        <br>
      An Introduction to Reservoir Sampling (with Pseudo Code)
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2022/03/25/01/00/" rel="bookmark">
        <time class="popular-posts-time">2022-03-25</time>
        <br>
      四元数与旋转
      </a>
    </li>
  </ul>

          </div>
        </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://sulley.cc/2022/06/26/23/03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Sulley">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sulley">
      <meta itemprop="description" content="Through a sea of petals will I see a road to the far far heaven.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="用生成函数和复数巧解一道计数题 | Sulley">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          用生成函数和复数巧解一道计数题
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-06-26 23:03:13" itemprop="dateCreated datePublished" datetime="2022-06-26T23:03:13+08:00">2022-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-06-30 00:52:54" itemprop="dateModified" datetime="2022-06-30T00:52:54+08:00">2022-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E5%AD%A6-%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">数学 - 分析</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/06/26/23/03/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/06/26/23/03/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>4.7k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>对集合<span
class="math inline">\(\{1,2,\cdots,2000\}\)</span>，求出其中有多少子集，使得子集中的元素和为5的倍数。本文对<a
target="_blank" rel="noopener" href="https://youtu.be/bOXCLR3Wric">3Blue3Brown的解法</a>上进行总结，形成较为数学化的语言。本题背后有较为深刻的数学思想，故记载于此。</p>
<span id="more"></span>
<h1 id="把原问题转化为生成函数">把原问题转化为生成函数</h1>
<p>原题是：对集合<span
class="math inline">\(\mathcal{S}=\{1,2,\cdots,2000\}\)</span>，求出其中有多少子集，使得子集中的元素和为5的倍数。</p>
<p>首先容易想到的是，可以采用穷举法，遍历<span
class="math inline">\(\mathcal{S}\)</span>的每个子集，检查是否满足条件。但是，穷举法的复杂度是<span
class="math inline">\(2^{2000}\)</span>，这对计算机来说都是一个天文数字。显然，需要另辟蹊径。</p>
<p>不妨先简化一下题目：求出集合<span
class="math inline">\(\mathcal{S}\)</span>中有多少个子集，使元素之和为<span
class="math inline">\(5\)</span>，我们可以很快地列出这些集合：</p>
<p><span class="math display">\[\{5\},\{1,4\},\{2,3\}\]</span></p>
<p>换句话说，<span class="math inline">\(5\)</span>可以表示为：<span
class="math inline">\(5=5=1+4=2+3\)</span>，如果我们把它表示成一个关于未知数<span
class="math inline">\(x\)</span>的多项式，那么就有：</p>
<p><span class="math display">\[x^5=x^0x^5=x^1x^4=x^2x^3\]</span></p>
<p>什么情况会同时出现<span
class="math inline">\(x^0,x^1,x^2,x^3,x^4,x^5\)</span>呢？答案是<strong>生成函数</strong>。这启发我们使用下面的生成函数：</p>
<p><span class="math display">\[
\begin{equation}
\label{eq1}
f(x)=(1+x)(1+x^2)(1+x^3)(1+x^4)(1+x^5)
\end{equation}
\]</span></p>
<p>这个多项式展开之后的结果是：</p>
<p><span
class="math display">\[f(x)=1+x+x^2+2x^3+2x^4+{\color{red}3x^5}+\cdots\]</span></p>
<p>注意五次项<span
class="math inline">\(x^5\)</span>前面的系数是3，这是因为，<span
class="math inline">\(x^5\)</span>有三个来源，分别是<span
class="math inline">\(1x^5,x^1x^4,x^2x^3\)</span>，正好对应了之前简化题中的结果！</p>
<p>现在分析一下，多项式<span
class="math inline">\(\eqref{eq1}\)</span>中的每个<span
class="math inline">\(x^i\)</span>项，都代表了整数<span
class="math inline">\(i\)</span>，如果在括号<span
class="math inline">\(1+x^i\)</span>中选择了<span
class="math inline">\(x^i\)</span>，则表示把<span
class="math inline">\(i\)</span>这个整数加入集合，如果选择了<span
class="math inline">\(1\)</span>，则表示不加入<span
class="math inline">\(i\)</span>。而把整个多项式展开之后的结果<span
class="math inline">\(f(x)=c_0+c_1x+c_2x^2+\cdots\)</span>，项<span
class="math inline">\(x^i\)</span>前面的系数<span
class="math inline">\(c_i\)</span>，正好代表了元素之和为<span
class="math inline">\(i\)</span>的集合的个数！</p>
<p>这时候，我们就能把原问题转化为下面的生成函数：</p>
<p><span class="math display">\[
\begin{equation}
\begin{aligned}
\label{eq2}
f(x)&amp;=(1+x)(1+x^2)(1+x^3)(1+x^4)(1+x^5)\cdots(1+x^{2000})\\
&amp;=c_0+c_1x+c_2x^2+c_3x^3+c_4x^4+c_5x^5+\cdots
\end{aligned}
\end{equation}
\]</span></p>
<p>求出其中所有次数为<span
class="math inline">\(5\)</span>的倍数的项系数之和：</p>
<p><span class="math display">\[
\begin{equation}
\label{eq3}
S=c_5+c_{10}+c_{15}+\cdots
\end{equation}
\]</span></p>
<p>下面的问题就是如何求出<span class="math inline">\(S\)</span>。</p>
<h1 id="转化为复数问题">转化为复数问题</h1>
<p>显然，我们不可能把<span
class="math inline">\(S\)</span>中的每一项都求出来，只能设法一次求出<span
class="math inline">\(S\)</span>，那么怎么办呢？</p>
<p>我们还是先考虑简化问题，假设现在生成函数是:</p>
<p><span class="math display">\[
\begin{equation}
\begin{aligned}
f(x)&amp;=(1+x)(1+x^2)(1+x^3)(1+x^4)(1+x^5)\\
&amp;=c_0+c_1x+c_2x^2+c_3x^3+c_4x^4+c_5x^5+\cdots
\end{aligned}
\end{equation}
\]</span></p>
<p>如果我们代入<span class="math inline">\(x=0\)</span>，可以求得<span
class="math inline">\(f(0)=1\)</span>；如果代入<span
class="math inline">\(x=1\)</span>，可以求得<span
class="math inline">\(f(1)=2^5\)</span>；再代入<span
class="math inline">\(x=-1\)</span>，有<span
class="math inline">\(f(-1)=0\)</span>。用展开式表示结果：</p>
<p><span class="math display">\[
\begin{aligned}
    c_0&amp;=1\\
    c_0+c_1+c_2+c_3+c_4+c_5+\cdots &amp;=2^5\\
    c_0-c_1+c_2-c_3+c_4-c_5+\cdots &amp;=0
\end{aligned}
\]</span></p>
<p>通过后面两式，不难得到：</p>
<p><span
class="math display">\[c_1+c_3+c_5+\cdots=\frac{1}{2}2^5=2^4\]</span></p>
<p>我们找到了所有奇数项系数之和，但是我们的目标是所有<span
class="math inline">\(5\)</span>的倍数的项系数之和。但这个过程可以给我们一个启发：<strong>是否可以通过代入某些值到生成函数中，通过加减运算消去我们不关心的项，得到最终的结果</strong>。</p>
<p>分析我们把<span class="math inline">\(-1\)</span>代入到<span
class="math inline">\(f(x)\)</span>中每一项的过程，所有的偶数项<span
class="math inline">\(x^{2k}\)</span>结果都是<span
class="math inline">\(1\)</span>，所有的奇数项<span
class="math inline">\(x^{2k-1}\)</span>结果都是<span
class="math inline">\(-1\)</span>。换句话说：<span
class="math inline">\(-1\)</span>这个值对函数<span
class="math inline">\(f(x)\)</span>的未知项<span
class="math inline">\(x^i\)</span>的循环次数为<span
class="math inline">\(2\)</span>，或者，每两项<span
class="math inline">\(-1\)</span>代入的结果都相同。同理，对<span
class="math inline">\(1\)</span>来说，循环次数是<span
class="math inline">\(1\)</span>。</p>
<p>那么，什么时候循环次数是<span
class="math inline">\(5\)</span>呢？也就是，代入哪个数<span
class="math inline">\(\xi\)</span>，会使得<span
class="math inline">\(\xi=\xi^6\)</span>，或者<span
class="math inline">\(\xi^5=1\)</span>。显然，在复空间中，这个数就是<span
class="math inline">\((\mathrm{e}^{\mathrm{i}\frac{2\pi}{5}})^t
(t=1,2,3,4,5)\)</span>。也就是说，如果令<span
class="math inline">\(\xi=\mathrm{e}^{\mathrm{i}\frac{2\pi}{5}}\)</span>，则有<span
class="math inline">\(5\)</span>个数<span
class="math inline">\(\xi,\xi^2,\xi^3,\xi^4,\xi^5\)</span>满足我们的要求，其中<span
class="math inline">\(\xi^5=1\)</span>就是我们熟知的实根。</p>
<p>更关键的是，这几个数的和是<span
class="math inline">\(0\)</span>：</p>
<p><span
class="math display">\[\xi+\xi^2+\xi^3+\xi^4+\xi^5=\frac{\xi(1-\xi^5)}{1-\xi}=0\]</span></p>
<p>现在，分别把这五个值代入到展开的生成函数中，有：</p>
<p><span class="math display">\[
\begin{aligned}
f(\xi)=c_0+c_1\xi+c_2\xi^2+c_3\xi^3+c_4\xi^4+c_5\xi^5+\cdots\\
f(\xi^2)=c_0+c_1\xi^2+c_2\xi^4+c_3\xi^1+c_4\xi^3+c_5\xi^5+\cdots\\
f(\xi^3)=c_0+c_1\xi^3+c_2\xi^1+c_3\xi^4+c_4\xi^2+c_5\xi^5+\cdots\\
f(\xi^4)=c_0+c_1\xi^4+c_2\xi^3+c_3\xi^2+c_4\xi^1+c_5\xi^5+\cdots\\
f(\xi^5)=c_0+c_1\xi^5+c_2\xi^5+c_3\xi^5+c_4\xi^5+c_5\xi^5+\cdots
\end{aligned}
\]</span></p>
<p>注意<span
class="math inline">\(c_1,c_2,c_3,c_4\)</span>对应的项，正好都有<span
class="math inline">\(\xi,\xi^2,\xi^3,\xi^4,\xi^5\)</span>，把它们加起来，有：</p>
<p><span class="math display">\[
\begin{aligned}
f(\xi)+f(\xi^2)+f(\xi^3)+f(\xi^4)+f(\xi^5)&amp;=5c_0+5c_5\xi^5+5c_{10}\xi^5+5c_{15}\xi^5\\
&amp;=5c_0+5c_5+5c_{10}+5c_{15}
\end{aligned}
\]</span></p>
<p><span
class="math inline">\(c_0=1\)</span>是已知的，所以上面的结果就变成了：</p>
<p><span
class="math display">\[f(\xi)+f(\xi^2)+f(\xi^3)+f(\xi^4)+f(\xi^5)=5+5c_5+5c_{10}+5c_{15}\]</span></p>
<p>现在整个式子右边只留下常数和<span
class="math inline">\(5\)</span>的倍数的项！</p>
<p>唯一遗留的问题就是式子左侧的<span
class="math inline">\(f(\xi)+f(\xi^2)+f(\xi^3)+f(\xi^4)+f(\xi^5)\)</span>是多少，或者说<span
class="math inline">\(f(\xi)=(1+\xi)(1+\xi^2)(1+\xi^3)(1+\xi^4)(1+\xi^5)\)</span>是多少，因为只要知道了<span
class="math inline">\(f(\xi)\)</span>，<span
class="math inline">\(f(\xi^2),f(\xi^3),f(\xi^4)\)</span>的值也就知道了。</p>
<p>这里的技巧是，因为<span
class="math inline">\(\xi,\xi^2,\xi^3,\xi^4,\xi^5\)</span>是方程<span
class="math inline">\(z^5-1=0\)</span>的五个根，所以可以把它们表示成：</p>
<p><span class="math display">\[
\begin{equation}
  z^5-1=(z-\xi)(z-\xi^2)(z-\xi^3)(z-\xi^4)(z-\xi^5)
\end{equation}
\]</span></p>
<p>把<span class="math inline">\(z=-1\)</span>代入：</p>
<p><span class="math display">\[
\begin{equation}
  2=(1+\xi)(1+\xi^2)(1+\xi^3)(1+\xi^4)(1+\xi^5)=f(\xi)
\end{equation}
\]</span></p>
<p>从而，我们也就有<span
class="math inline">\(f(\xi^2)=f(\xi^3)=f(\xi^4)=2\)</span>，而<span
class="math inline">\(f(\xi^5)=2^5\)</span>。所以，我们就得到了：</p>
<p><span class="math display">\[
\begin{equation}
\begin{aligned}
  5+5c_5+5c_{10}+5c_{15}&amp;=4\times 2+2^5\\
  1+c_5+c_{10}+c_{15}&amp;=\frac{1}{5}(4\times 2+2^5)\\
  c_5+c_{10}+c_{15}&amp;=\frac{1}{5}(4\times 2+2^5)-1
\end{aligned}
\end{equation}
\]</span></p>
<p>这样一来我们考虑的简化版问题就得到了解决！</p>
<p>按照这个思路，我们同样可以得到原始问题的解决，分为几步。</p>
<p><strong>第一步</strong>：设<span
class="math inline">\(\xi,\xi^2,\xi^3,\xi^4,\xi^5\)</span>是方程<span
class="math inline">\(z^5-1=0\)</span>的五个根，把它们分别代入生成函数<span
class="math inline">\(f(x)\)</span>中，相加，就得到：</p>
<p><span
class="math display">\[c_0+c_5+c_{10}+\cdots=\frac{1}{5}(f(\xi)+f(\xi^2)+f(\xi^3)+f(\xi^4)+f(\xi^5))\]</span></p>
<p><strong>第二步</strong>：把<span
class="math inline">\(\xi,\xi^2,\xi^3,\xi^4,\xi^5\)</span>表示为<span
class="math inline">\(z^5-1=(z-\xi)(z-\xi^2)(z-\xi^3)(z-\xi^4)(z-\xi^5)\)</span>，通过代入<span
class="math inline">\(z=-1\)</span>解出<span
class="math inline">\((1+\xi)(1+\xi^2)(1+\xi^3)(1+\xi^4)(1+\xi^5)=2\)</span>。</p>
<p><strong>第三步</strong>：把<span
class="math inline">\(\xi\)</span>代入到生成函数<span
class="math inline">\(f(x)\)</span>中，可以得到<span
class="math inline">\(f(\xi)=2^{400}\)</span>，同理有<span
class="math inline">\(f(\xi^2)=f(\xi^3)=f(\xi^4)=2^{400}\)</span>，同时有<span
class="math inline">\(f(\xi^5)=2^{2000}\)</span>。</p>
<p><strong>第四步</strong>：把所有值代回第一步中的结果，得到最终答案<span
class="math inline">\(c_5+c_{10}=\frac{1}{5}(4\times
2^{400}+2^{2000})-1\)</span>。</p>
<h1 id="总结">总结</h1>
<p>本题背后蕴藏着较为深刻的数学思想，一方面是巧用生成函数把一个计数问题转化为一个分析问题，另一方面是使用复数消去某些项，直接求出想要的结果。通过本题，我们可以充分了解到复数所蕴含的关于周期和频率的思想，从而也就能理解为什么傅里叶变换用复数表征。</p>
<p>把本题稍微进行推广：对集合<span
class="math inline">\(\mathcal{A}=\{1,2,3,\cdots,N\}\)</span>和正整数<span
class="math inline">\(k\)</span>，其中<span
class="math inline">\(k|N\)</span>。设<span
class="math inline">\(\mathcal{A}\)</span>中满足元素之和为<span
class="math inline">\(k\)</span>的倍数的子集个数为<span
class="math inline">\(\mathfrak{P}_k\)</span>，你能求出<span
class="math inline">\(\mathfrak{P}_k\)</span>的表达式吗？</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Written by:  </strong>Sulley
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="http://sulley.cc/2022/06/26/23/03/" title="用生成函数和复数巧解一道计数题">http://sulley.cc/2022/06/26/23/03/</a>
  </li>
  <li class="post-copyright-license">
      <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/en" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag"># 数学</a>
              <a href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag"># 随笔</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/06/21/23/40/" rel="prev" title="根据角色体型和俯角自动确定FreeLook镜头参数">
                  <i class="fa fa-chevron-left"></i> 根据角色体型和俯角自动确定FreeLook镜头参数
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/10/08/11/01/" rel="next" title="GAMES101疑难点及作业详解">
                  GAMES101疑难点及作业详解 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Sulley</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">405k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">6:08</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"sulley","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
